{% extends "base.html" %}

{% block title %}Skills - Deepak Yadav{% endblock %}

{% block extra_head %}
<style>
    /* Additional styles for skills page */
    .skills-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 120px 0 80px;
        position: relative;
        overflow: hidden;
    }
    
    .skills-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grain)"/>');
        opacity: 0.3;
    }
    
    .skills-content {
        position: relative;
        z-index: 2;
    }
    
    .skills-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        color: white;
    }
    
    .skills-subtitle {
        font-size: 1.3rem;
        font-weight: 300;
        margin-bottom: 2rem;
        opacity: 0.9;
        color: white;
    }
    
    .skills-section {
        background: #f8f9fa;
        padding: 80px 0;
    }
    
    .skill-category {
        background: white;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        margin-bottom: 40px;
        overflow: hidden;
        transition: transform 0.3s ease;
    }
    
    .skill-category:hover {
        transform: translateY(-5px);
    }
    
    .category-header {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        color: white;
        padding: 25px 30px;
        margin: 0;
    }
    
    .category-title {
        font-size: 1.5rem;
        font-weight: 600;
        margin: 0;
        display: flex;
        align-items: center;
    }
    
    .category-icon {
        font-size: 1.8rem;
        margin-right: 15px;
    }
    
    .skills-grid {
        padding: 30px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
    }
    
    .skill-item {
        background: #f8f9fa;
        border-radius: 10px;
        padding: 20px;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }
    
    .skill-item:hover {
        background: white;
        border-color: #3498db;
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .skill-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .skill-name {
        font-size: 1.2rem;
        font-weight: 600;
        color: #2c3e50;
        margin: 0;
    }
    
    .skill-percentage {
        font-size: 1rem;
        font-weight: 600;
        color: #3498db;
    }
    
    .skill-info {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .skill-experience {
        font-size: 0.9rem;
        color: #666;
        background: #e9ecef;
        padding: 3px 8px;
        border-radius: 12px;
    }
    
    .skill-progress {
        width: 100%;
        height: 8px;
        background: #e9ecef;
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 15px;
    }
    
    .skill-progress-bar {
        height: 100%;
        background: linear-gradient(90deg, #3498db 0%, #2980b9 100%);
        border-radius: 10px;
        transition: width 1.5s ease-out;
        position: relative;
    }
    
    .skill-progress-bar::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
        animation: shimmer 2s infinite;
    }
    
    @keyframes shimmer {
        0% { transform: translateX(-100%); }
        100% { transform: translateX(100%); }
    }
    
    .skill-description {
        color: #666;
        font-size: 0.9rem;
        line-height: 1.5;
    }
    
    .stats-overview {
        background: white;
        padding: 60px 0;
    }
    
    .stat-card {
        text-align: center;
        padding: 30px 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 15px;
        transition: transform 0.3s ease;
        margin-bottom: 20px;
    }
    
    .stat-card:hover {
        transform: translateY(-5px);
    }
    
    .stat-number {
        font-size: 3rem;
        font-weight: 700;
        display: block;
        margin-bottom: 10px;
    }
    
    .stat-label {
        font-size: 1rem;
        opacity: 0.9;
    }
    
    .proficiency-legend {
        background: white;
        padding: 40px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        margin-bottom: 40px;
    }
    
    .legend-title {
        font-size: 1.3rem;
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 20px;
        text-align: center;
    }
    
    .legend-items {
        display: flex;
        justify-content: space-around;
        flex-wrap: wrap;
        gap: 20px;
    }
    
    .legend-item {
        display: flex;
        align-items: center;
        font-size: 0.9rem;
        color: #666;
    }
    
    .legend-color {
        width: 20px;
        height: 8px;
        border-radius: 4px;
        margin-right: 10px;
    }
    
    .legend-beginner { background: #e74c3c; }
    .legend-intermediate { background: #f39c12; }
    .legend-advanced { background: #f1c40f; }
    .legend-expert { background: #2ecc71; }
    .legend-master { background: #3498db; }
    
    .fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s ease;
    }
    
    .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    .skill-item.animate .skill-progress-bar {
        animation: progressAnimation 1.5s ease-out forwards;
    }
    
    @keyframes progressAnimation {
        from { width: 0%; }
        to { width: var(--progress); }
    }
    
    @media (max-width: 768px) {
        .skills-title {
            font-size: 2.5rem;
        }
        
        .skills-grid {
            grid-template-columns: 1fr;
            padding: 20px;
        }
        
        .legend-items {
            flex-direction: column;
            align-items: center;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Skills Hero Section -->
<section class="skills-hero">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <div class="skills-content fade-in">
                    <h1 class="skills-title">My Skills</h1>
                    <p class="skills-subtitle">Technical expertise and professional capabilities</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Stats Overview -->
<section class="stats-overview">
    <div class="container">
        <div class="row">
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card fade-in">
                    <span class="stat-number">{{ skills|length }}</span>
                    <span class="stat-label">Technical Skills</span>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card fade-in">
                    {% set categories = skills|groupby('category')|list %}
                    <span class="stat-number">{{ categories|length }}</span>
                    <span class="stat-label">Skill Categories</span>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card fade-in">
                    {% set total_proficiency = skills|map(attribute='proficiency')|sum %}
                    {% set avg_proficiency = ((total_proficiency / skills|length)|round|int) %}
                    <span class="stat-number">{{ avg_proficiency }}%</span>
                    <span class="stat-label">Average Proficiency</span>
                </div>
            </div>
            <div class="col-md-3 col-sm-6 mb-4">
                <div class="stat-card fade-in">
                    {% set total_experience = skills|map(attribute='years_experience')|sum %}
                    {% set avg_experience = ((total_experience / skills|length)|round(1)) %}
                    <span class="stat-number">{{ avg_experience }}</span>
                    <span class="stat-label">Avg Years Experience</span>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Proficiency Legend -->
<section class="skills-section">
    <div class="container">
        <div class="proficiency-legend fade-in">
            <h3 class="legend-title">Proficiency Levels</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-color legend-beginner"></div>
                    <span>Beginner (0-40%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-intermediate"></div>
                    <span>Intermediate (41-60%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-advanced"></div>
                    <span>Advanced (61-75%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-expert"></div>
                    <span>Expert (76-90%)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color legend-master"></div>
                    <span>Master (91-100%)</span>
                </div>
            </div>
        </div>

        <!-- Skills by Category -->
        {% for category, category_skills in skills|groupby('category') %}
        <div class="skill-category fade-in">
            <div class="category-header">
                <h2 class="category-title">
                    <span class="category-icon">
                        {% if category == 'Programming Language' %}
                            <i class="fas fa-code"></i>
                        {% elif category == 'Web Framework' %}
                            <i class="fas fa-globe"></i>
                        {% elif category == 'Frontend Framework' %}
                            <i class="fas fa-paint-brush"></i>
                        {% elif category == 'Database' %}
                            <i class="fas fa-database"></i>
                        {% elif category == 'DevOps' %}
                            <i class="fas fa-cogs"></i>
                        {% elif category == 'Cloud Platform' %}
                            <i class="fas fa-cloud"></i>
                        {% elif category == 'Version Control' %}
                            <i class="fas fa-code-branch"></i>
                        {% elif category == 'Frontend' %}
                            <i class="fas fa-laptop-code"></i>
                        {% elif category == 'Caching' %}
                            <i class="fas fa-memory"></i>
                        {% elif category == 'Runtime Environment' %}
                            <i class="fas fa-server"></i>
                        {% elif category == 'Data Science' %}
                            <i class="fas fa-chart-bar"></i>
                        {% else %}
                            <i class="fas fa-tools"></i>
                        {% endif %}
                    </span>
                    {{ category }}
                </h2>
            </div>
            
            <div class="skills-grid">
                {% for skill in category_skills %}
                <div class="skill-item" data-proficiency="{{ skill.proficiency }}">
                    <div class="skill-info">
                        <h3 class="skill-name">{{ skill.name }}</h3>
                        <span class="skill-percentage">{{ skill.proficiency }}%</span>
                    </div>
                    
                    <div class="skill-experience">
                        {{ skill.years_experience }} year{{ 's' if skill.years_experience != 1 else '' }} experience
                    </div>
                    
                    <div class="skill-progress">
                        <div class="skill-progress-bar" 
                             style="--progress: {{ skill.proficiency }}%; width: 0%;"
                             data-progress="{{ skill.proficiency }}">
                        </div>
                    </div>
                    
                    <p class="skill-description">{{ skill.description }}</p>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Skills Summary -->
<section class="py-5" style="background: white;">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="display-5 mb-5 text-center fade-in" style="color: #2c3e50; font-weight: 600;">
                    <i class="fas fa-chart-pie text-primary me-3"></i>Skills Distribution
                </h2>
                
                <div class="row">
                    {% for category, category_skills in skills|groupby('category') %}
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card h-100 border-0 shadow-sm fade-in">
                            <div class="card-body text-center">
                                <div style="font-size: 3rem; color: #3498db; margin-bottom: 20px;">
                                    {% if category == 'Programming Language' %}
                                        <i class="fas fa-code"></i>
                                    {% elif category == 'Web Framework' %}
                                        <i class="fas fa-globe"></i>
                                    {% elif category == 'Frontend Framework' %}
                                        <i class="fas fa-paint-brush"></i>
                                    {% elif category == 'Database' %}
                                        <i class="fas fa-database"></i>
                                    {% elif category == 'DevOps' %}
                                        <i class="fas fa-cogs"></i>
                                    {% elif category == 'Cloud Platform' %}
                                        <i class="fas fa-cloud"></i>
                                    {% elif category == 'Version Control' %}
                                        <i class="fas fa-code-branch"></i>
                                    {% elif category == 'Frontend' %}
                                        <i class="fas fa-laptop-code"></i>
                                    {% elif category == 'Caching' %}
                                        <i class="fas fa-memory"></i>
                                    {% elif category == 'Runtime Environment' %}
                                        <i class="fas fa-server"></i>
                                    {% elif category == 'Data Science' %}
                                        <i class="fas fa-chart-bar"></i>
                                    {% else %}
                                        <i class="fas fa-tools"></i>
                                    {% endif %}
                                </div>
                                <h5 class="card-title">{{ category }}</h5>
                                <p class="card-text text-muted">{{ category_skills|length }} skills</p>                                <div class="mt-3">
                                    {% set cat_total_prof = category_skills|map(attribute='proficiency')|sum %}
                                    {% set cat_avg_prof = ((cat_total_prof / category_skills|length)|round|int) %}
                                    <small class="text-muted">
                                        Avg: {{ cat_avg_prof }}% proficiency
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Top Skills Highlight -->
<section class="py-5" style="background: #f8f9fa;">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="display-5 mb-5 text-center fade-in" style="color: #2c3e50; font-weight: 600;">
                    <i class="fas fa-star text-warning me-3"></i>Top Expertise
                </h2>
                
                <div class="row justify-content-center">
                    {% for skill in skills|sort(attribute='proficiency', reverse=true)|list %}
                    {% if loop.index <= 6 %}
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card border-0 shadow-sm h-100 fade-in">
                            <div class="card-body text-center">
                                <div style="font-size: 3rem; margin-bottom: 20px;">
                                    {% if skill.name == 'Python' %}
                                        <i class="fab fa-python" style="color: #3776ab;"></i>
                                    {% elif skill.name == 'JavaScript' %}
                                        <i class="fab fa-js-square" style="color: #f7df1e;"></i>
                                    {% elif skill.name == 'React' %}
                                        <i class="fab fa-react" style="color: #61dafb;"></i>
                                    {% elif skill.name == 'Node.js' %}
                                        <i class="fab fa-node-js" style="color: #339933;"></i>
                                    {% elif skill.name == 'Docker' %}
                                        <i class="fab fa-docker" style="color: #2496ed;"></i>
                                    {% elif skill.name == 'HTML/CSS' %}
                                        <i class="fab fa-html5" style="color: #e34f26;"></i>
                                    {% elif skill.name == 'Git' %}
                                        <i class="fab fa-git-alt" style="color: #f05032;"></i>
                                    {% elif skill.name == 'AWS' %}
                                        <i class="fab fa-aws" style="color: #ff9900;"></i>
                                    {% else %}
                                        <i class="fas fa-code" style="color: #3498db;"></i>
                                    {% endif %}
                                </div>
                                <h5 class="card-title">{{ skill.name }}</h5>
                                <div class="mb-2">
                                    <span class="badge bg-primary">{{ skill.proficiency }}% Proficiency</span>
                                </div>                                <p class="card-text text-muted small">{{ skill.years_experience }} years experience</p>
                                <p class="card-text small">{{ skill.description }}</p>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Call to Action Section -->
<section class="py-5" style="background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%); color: white;">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <h2 class="display-6 mb-4 fade-in">Ready to Work Together?</h2>
                <p class="lead mb-4 fade-in">Let's leverage these skills to build something amazing for your next project.</p>
                <div class="fade-in">
                    <a href="{{ url_for('projects') }}" class="btn btn-primary btn-lg me-3" style="background: linear-gradient(45deg, #3498db, #2980b9); border: none; padding: 12px 30px; border-radius: 50px;">
                        <i class="fas fa-eye me-2"></i>View My Work
                    </a>
                    <a href="{{ url_for('contact') }}" class="btn btn-outline-light btn-lg" style="padding: 12px 30px; border-radius: 50px;">
                        <i class="fas fa-paper-plane me-2"></i>Get In Touch
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
// Fade in animation on scroll
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            
            // Animate progress bars when they come into view
            if (entry.target.classList.contains('skill-item')) {
                animateProgressBar(entry.target);
            }
        }
    });
}, observerOptions);

// Observe all fade-in elements
document.addEventListener('DOMContentLoaded', function() {
    const fadeElements = document.querySelectorAll('.fade-in');
    fadeElements.forEach(el => observer.observe(el));
    
    const skillItems = document.querySelectorAll('.skill-item');
    skillItems.forEach(el => observer.observe(el));
});

// Animate progress bars
function animateProgressBar(skillItem) {
    const progressBar = skillItem.querySelector('.skill-progress-bar');
    const proficiency = skillItem.dataset.proficiency;
    
    if (progressBar && !skillItem.classList.contains('animate')) {
        skillItem.classList.add('animate');
        
        // Set progress bar color based on proficiency
        let color;
        if (proficiency <= 40) {
            color = 'linear-gradient(90deg, #e74c3c 0%, #c0392b 100%)';
        } else if (proficiency <= 60) {
            color = 'linear-gradient(90deg, #f39c12 0%, #e67e22 100%)';
        } else if (proficiency <= 75) {
            color = 'linear-gradient(90deg, #f1c40f 0%, #f39c12 100%)';
        } else if (proficiency <= 90) {
            color = 'linear-gradient(90deg, #2ecc71 0%, #27ae60 100%)';
        } else {
            color = 'linear-gradient(90deg, #3498db 0%, #2980b9 100%)';
        }
        
        progressBar.style.background = color;
        
        // Animate width
        setTimeout(() => {
            progressBar.style.width = proficiency + '%';
        }, 100);
    }
}

// Add hover effects to skill items
document.addEventListener('DOMContentLoaded', function() {
    const skillItems = document.querySelectorAll('.skill-item');
    
    skillItems.forEach(item => {
        item.addEventListener('mouseenter', function() {
            const progressBar = this.querySelector('.skill-progress-bar');
            if (progressBar) {
                progressBar.style.transform = 'scaleY(1.2)';
                progressBar.style.transition = 'transform 0.3s ease';
            }
        });
        
        item.addEventListener('mouseleave', function() {
            const progressBar = this.querySelector('.skill-progress-bar');
            if (progressBar) {
                progressBar.style.transform = 'scaleY(1)';
            }
        });
    });
});

// Add particle effect to skill categories
document.addEventListener('mousemove', function(e) {
    const categories = document.querySelectorAll('.skill-category');
    categories.forEach(category => {
        const rect = category.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const deltaX = (x - centerX) / centerX;
            const deltaY = (y - centerY) / centerY;
            
            category.style.transform = `perspective(1000px) rotateX(${deltaY * 2}deg) rotateY(${deltaX * 2}deg) translateZ(5px)`;
        }
    });
});

// Reset transform when mouse leaves
document.addEventListener('mouseleave', function() {
    const categories = document.querySelectorAll('.skill-category');
    categories.forEach(category => {
        category.style.transform = '';
    });
});

// Stagger animation for skill items
window.addEventListener('load', function() {
    const skillItems = document.querySelectorAll('.skill-item');
    skillItems.forEach((item, index) => {
        setTimeout(() => {
            item.style.opacity = '1';
            item.style.transform = 'translateY(0)';
        }, index * 50);
    });
});
</script>
{% endblock %}
