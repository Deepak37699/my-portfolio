{% extends "base.html" %}

{% block title %}Contact - Deepak Yadav{% endblock %}

{% block extra_head %}
<style>
    /* Additional styles for contact page */
    .contact-hero {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 120px 0 80px;
        position: relative;
        overflow: hidden;
    }
    
    .contact-hero::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grain" width="100" height="100" patternUnits="userSpaceOnUse"><circle cx="25" cy="25" r="1" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100%" height="100%" fill="url(%23grain)"/>');
        opacity: 0.3;
    }
    
    .contact-content {
        position: relative;
        z-index: 2;
    }
    
    .contact-title {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 1rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        color: white;
    }
    
    .contact-subtitle {
        font-size: 1.3rem;
        font-weight: 300;
        margin-bottom: 2rem;
        opacity: 0.9;
        color: white;
    }
    
    .contact-section {
        background: #f8f9fa;
        padding: 80px 0;
    }
    
    .contact-form {
        background: white;
        padding: 50px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transition: transform 0.3s ease;
    }
    
    .contact-form:hover {
        transform: translateY(-5px);
    }
    
    .form-group {
        margin-bottom: 25px;
    }
    
    .form-label {
        font-weight: 600;
        color: #2c3e50;
        margin-bottom: 8px;
        display: block;
        font-size: 1rem;
    }
    
    .form-control {
        width: 100%;
        padding: 15px 20px;
        border: 2px solid #e9ecef;
        border-radius: 10px;
        font-size: 1rem;
        transition: all 0.3s ease;
        background: #fff;
    }
    
    .form-control:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        transform: translateY(-2px);
    }
    
    .form-control:hover {
        border-color: #bdc3c7;
    }
    
    .form-control.is-invalid {
        border-color: #e74c3c;
    }
    
    .form-control.is-valid {
        border-color: #27ae60;
    }
    
    .textarea-control {
        min-height: 120px;
        resize: vertical;
        font-family: inherit;
    }
    
    .submit-btn {
        background: linear-gradient(45deg, #3498db, #2980b9);
        color: white;
        border: none;
        padding: 15px 40px;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        transition: all 0.3s ease;
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
        width: 100%;
    }
    
    .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 20px rgba(52, 152, 219, 0.4);
        background: linear-gradient(45deg, #2980b9, #3498db);
    }
    
    .submit-btn:active {
        transform: translateY(0);
    }
    
    .submit-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        transform: none;
    }
    
    .contact-info {
        background: white;
        padding: 50px;
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        height: 100%;
    }
    
    .contact-info h3 {
        color: #2c3e50;
        font-weight: 600;
        margin-bottom: 30px;
        font-size: 1.8rem;
    }
    
    .contact-item {
        display: flex;
        align-items: center;
        margin-bottom: 25px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
        transition: all 0.3s ease;
    }
    
    .contact-item:hover {
        background: #e3f2fd;
        transform: translateX(10px);
    }
    
    .contact-icon {
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #3498db, #2980b9);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 20px;
        color: white;
        font-size: 1.2rem;
        flex-shrink: 0;
    }
    
    .contact-details h5 {
        margin: 0 0 5px 0;
        color: #2c3e50;
        font-weight: 600;
    }
    
    .contact-details p {
        margin: 0;
        color: #666;
    }
    
    .social-links {
        margin-top: 30px;
        padding-top: 30px;
        border-top: 2px solid #e9ecef;
    }
    
    .social-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 50px;
        height: 50px;
        background: #f8f9fa;
        color: #666;
        border-radius: 50%;
        margin-right: 15px;
        text-decoration: none;
        font-size: 1.2rem;
        transition: all 0.3s ease;
    }
    
    .social-link:hover {
        color: white;
        text-decoration: none;
        transform: translateY(-3px);
    }
    
    .social-link.linkedin:hover { background: #0077b5; }
    .social-link.github:hover { background: #333; }
    .social-link.twitter:hover { background: #1da1f2; }
    .social-link.email:hover { background: #ea4335; }
    
    .form-feedback {
        margin-top: 10px;
        font-size: 0.9rem;
    }
    
    .feedback-success {
        color: #27ae60;
    }
    
    .feedback-error {
        color: #e74c3c;
    }
    
    .loading-spinner {
        display: none;
        width: 20px;
        height: 20px;
        border: 2px solid rgba(255,255,255,0.3);
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin-right: 10px;
    }
    
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }
    
    .fade-in {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s ease;
    }
    
    .fade-in.visible {
        opacity: 1;
        transform: translateY(0);
    }
    
    .form-floating {
        position: relative;
    }
    
    .form-floating .form-control {
        padding: 20px 20px 8px 20px;
    }
    
    .form-floating label {
        position: absolute;
        top: 20px;
        left: 20px;
        color: #999;
        transition: all 0.3s ease;
        pointer-events: none;
        font-weight: 400;
    }
    
    .form-floating .form-control:focus + label,
    .form-floating .form-control:not(:placeholder-shown) + label {
        top: 8px;
        font-size: 0.8rem;
        color: #3498db;
        font-weight: 600;
    }
    
    @media (max-width: 768px) {
        .contact-title {
            font-size: 2.5rem;
        }
        
        .contact-form,
        .contact-info {
            padding: 30px;
        }
        
        .contact-section {
            padding: 60px 0;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Contact Hero Section -->
<section class="contact-hero">
    <div class="container">
        <div class="row">
            <div class="col-12 text-center">
                <div class="contact-content fade-in">
                    <h1 class="contact-title">Get In Touch</h1>
                    <p class="contact-subtitle">Let's discuss your next project and bring your ideas to life</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Contact Section -->
<section class="contact-section">
    <div class="container">
        <div class="row g-4">
            <!-- Contact Form -->
            <div class="col-lg-8">
                <div class="contact-form fade-in">
                    <h2 class="mb-4" style="color: #2c3e50; font-weight: 600;">
                        <i class="fas fa-paper-plane text-primary me-3"></i>Send Me a Message
                    </h2>
                    
                    <form id="contactForm" action="{{ url_for('contact') }}" method="post" novalidate>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="form-floating">
                                        <input type="text" 
                                               id="name" 
                                               name="name" 
                                               class="form-control" 
                                               placeholder="Your Name"
                                               required>
                                        <label for="name">Your Name *</label>
                                    </div>
                                    <div class="form-feedback" id="name-feedback"></div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <div class="form-floating">
                                        <input type="email" 
                                               id="email" 
                                               name="email" 
                                               class="form-control" 
                                               placeholder="Your Email"
                                               required>
                                        <label for="email">Your Email *</label>
                                    </div>
                                    <div class="form-feedback" id="email-feedback"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="form-floating">
                                <input type="text" 
                                       id="subject" 
                                       name="subject" 
                                       class="form-control" 
                                       placeholder="Subject"
                                       required>
                                <label for="subject">Subject *</label>
                            </div>
                            <div class="form-feedback" id="subject-feedback"></div>
                        </div>
                        
                        <div class="form-group">
                            <div class="form-floating">
                                <textarea id="message" 
                                          name="message" 
                                          class="form-control textarea-control" 
                                          placeholder="Your Message"
                                          required></textarea>
                                <label for="message">Your Message *</label>
                            </div>
                            <div class="form-feedback" id="message-feedback"></div>
                        </div>
                        
                        <button type="submit" class="submit-btn" id="submitBtn">
                            <span class="loading-spinner" id="loadingSpinner"></span>
                            <span id="submitText">
                                <i class="fas fa-paper-plane me-2"></i>Send Message
                            </span>
                        </button>
                    </form>
                </div>
            </div>
            
            <!-- Contact Information -->
            <div class="col-lg-4">
                <div class="contact-info fade-in">
                    <h3>
                        <i class="fas fa-address-book text-primary me-3"></i>Contact Information
                    </h3>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Email</h5>
                            <p>deepak.yadav@example.com</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Phone</h5>
                            <p>+91-9876543210</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Location</h5>
                            <p>Mumbai, India</p>
                        </div>
                    </div>
                    
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-details">
                            <h5>Response Time</h5>
                            <p>Within 24 hours</p>
                        </div>
                    </div>
                    
                    <div class="social-links">
                        <h5 style="color: #2c3e50; margin-bottom: 20px;">Follow Me</h5>
                        <a href="https://linkedin.com/in/deepakyadav" target="_blank" class="social-link linkedin">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="https://github.com/deepakyadav" target="_blank" class="social-link github">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://twitter.com/deepakyadav" target="_blank" class="social-link twitter">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="mailto:deepak.yadav@example.com" class="social-link email">
                            <i class="fas fa-envelope"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="py-5" style="background: white;">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <h2 class="display-5 mb-5 text-center fade-in" style="color: #2c3e50; font-weight: 600;">
                    <i class="fas fa-question-circle text-primary me-3"></i>Frequently Asked Questions
                </h2>
                
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <div class="accordion" id="faqAccordion">
                            <div class="accordion-item fade-in" style="border: none; margin-bottom: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                                <h3 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq1" style="border-radius: 10px; font-weight: 600;">
                                        What is your typical response time?
                                    </button>
                                </h3>
                                <div id="faq1" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        I typically respond to all inquiries within 24 hours during business days. For urgent matters, feel free to mention it in your message.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item fade-in" style="border: none; margin-bottom: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2" style="border-radius: 10px; font-weight: 600;">
                                        What types of projects do you work on?
                                    </button>
                                </h3>
                                <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        I specialize in web applications, APIs, database design, and full-stack development using Python, FastAPI, React, and modern technologies. I work on both small and large-scale projects.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item fade-in" style="border: none; margin-bottom: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3" style="border-radius: 10px; font-weight: 600;">
                                        Do you work remotely?
                                    </button>
                                </h3>
                                <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        Yes, I work remotely with clients worldwide. I'm comfortable with video calls, project management tools, and collaborative development workflows.
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item fade-in" style="border: none; margin-bottom: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
                                <h3 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4" style="border-radius: 10px; font-weight: 600;">
                                        What is your development process?
                                    </button>
                                </h3>
                                <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                    <div class="accordion-body">
                                        I follow agile development practices with regular communication, code reviews, testing, and iterative delivery. I believe in transparent communication throughout the project lifecycle.
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_scripts %}
<script>
// Fade in animation on scroll
const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
}, observerOptions);

// Observe all fade-in elements
document.addEventListener('DOMContentLoaded', function() {
    const fadeElements = document.querySelectorAll('.fade-in');
    fadeElements.forEach(el => observer.observe(el));
});

// Form validation and submission
document.getElementById('contactForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    // Reset previous validation states
    const formControls = document.querySelectorAll('.form-control');
    formControls.forEach(control => {
        control.classList.remove('is-valid', 'is-invalid');
    });
    
    // Clear previous feedback
    const feedbacks = document.querySelectorAll('.form-feedback');
    feedbacks.forEach(feedback => {
        feedback.textContent = '';
        feedback.className = 'form-feedback';
    });
    
    // Validate form
    let isValid = true;
    const formData = new FormData(this);
    
    // Validate name
    const name = formData.get('name').trim();
    if (!name) {
        showFieldError('name', 'Name is required');
        isValid = false;
    } else if (name.length < 2) {
        showFieldError('name', 'Name must be at least 2 characters');
        isValid = false;
    } else {
        showFieldSuccess('name');
    }
    
    // Validate email
    const email = formData.get('email').trim();
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    if (!email) {
        showFieldError('email', 'Email is required');
        isValid = false;
    } else if (!emailRegex.test(email)) {
        showFieldError('email', 'Please enter a valid email address');
        isValid = false;
    } else {
        showFieldSuccess('email');
    }
    
    // Validate subject
    const subject = formData.get('subject').trim();
    if (!subject) {
        showFieldError('subject', 'Subject is required');
        isValid = false;
    } else if (subject.length < 5) {
        showFieldError('subject', 'Subject must be at least 5 characters');
        isValid = false;
    } else {
        showFieldSuccess('subject');
    }
    
    // Validate message
    const message = formData.get('message').trim();
    if (!message) {
        showFieldError('message', 'Message is required');
        isValid = false;
    } else if (message.length < 10) {
        showFieldError('message', 'Message must be at least 10 characters');
        isValid = false;
    } else {
        showFieldSuccess('message');
    }
    
    if (isValid) {
        submitForm(formData);
    }
});

function showFieldError(fieldName, message) {
    const field = document.getElementById(fieldName);
    const feedback = document.getElementById(fieldName + '-feedback');
    
    field.classList.add('is-invalid');
    feedback.textContent = message;
    feedback.classList.add('feedback-error');
}

function showFieldSuccess(fieldName) {
    const field = document.getElementById(fieldName);
    field.classList.add('is-valid');
}

function submitForm(formData) {
    const submitBtn = document.getElementById('submitBtn');
    const submitText = document.getElementById('submitText');
    const loadingSpinner = document.getElementById('loadingSpinner');
    
    // Show loading state
    submitBtn.disabled = true;
    loadingSpinner.style.display = 'inline-block';
    submitText.innerHTML = '<i class="fas fa-paper-plane me-2"></i>Sending...';
    
    // Simulate form submission (replace with actual submission)
    fetch('/contact', {
        method: 'POST',
        body: formData
    })
    .then(response => {
        if (response.ok) {
            return response.json();
        }
        throw new Error('Network response was not ok');
    })
    .then(data => {
        // Success
        showAlert('success', 'Message sent successfully! I\'ll get back to you soon.');
        document.getElementById('contactForm').reset();
        
        // Reset form validation states
        const formControls = document.querySelectorAll('.form-control');
        formControls.forEach(control => {
            control.classList.remove('is-valid', 'is-invalid');
        });
    })
    .catch(error => {
        // Error
        showAlert('error', 'There was an error sending your message. Please try again.');
    })
    .finally(() => {
        // Reset button state
        submitBtn.disabled = false;
        loadingSpinner.style.display = 'none';
        submitText.innerHTML = '<i class="fas fa-paper-plane me-2"></i>Send Message';
    });
}

function showAlert(type, message) {
    const alertDiv = document.createElement('div');
    alertDiv.className = `alert alert-${type === 'success' ? 'success' : 'danger'} alert-dismissible fade show`;
    alertDiv.style.position = 'fixed';
    alertDiv.style.top = '100px';
    alertDiv.style.right = '20px';
    alertDiv.style.zIndex = '9999';
    alertDiv.style.minWidth = '300px';
    
    alertDiv.innerHTML = `
        ${message}
        <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    `;
    
    document.body.appendChild(alertDiv);
    
    // Auto remove after 5 seconds
    setTimeout(() => {
        if (alertDiv.parentNode) {
            alertDiv.remove();
        }
    }, 5000);
}

// Add floating label animation
document.addEventListener('DOMContentLoaded', function() {
    const floatingInputs = document.querySelectorAll('.form-floating .form-control');
    
    floatingInputs.forEach(input => {
        // Check if input has value on page load
        if (input.value.trim() !== '') {
            input.classList.add('has-value');
        }
        
        input.addEventListener('input', function() {
            if (this.value.trim() !== '') {
                this.classList.add('has-value');
            } else {
                this.classList.remove('has-value');
            }
        });
    });
});

// Add interactive effects
document.addEventListener('mousemove', function(e) {
    const forms = document.querySelectorAll('.contact-form, .contact-info');
    forms.forEach(form => {
        const rect = form.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        
        if (x >= 0 && x <= rect.width && y >= 0 && y <= rect.height) {
            const centerX = rect.width / 2;
            const centerY = rect.height / 2;
            const deltaX = (x - centerX) / centerX;
            const deltaY = (y - centerY) / centerY;
            
            form.style.transform = `perspective(1000px) rotateX(${deltaY * 2}deg) rotateY(${deltaX * 2}deg) translateZ(5px)`;
        }
    });
});

// Reset transform when mouse leaves
document.addEventListener('mouseleave', function() {
    const forms = document.querySelectorAll('.contact-form, .contact-info');
    forms.forEach(form => {
        form.style.transform = '';
    });
});
</script>
{% endblock %}
